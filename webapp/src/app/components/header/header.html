<header class="agc-header" role="banner">
  <!-- Top bar -->
  <div class="agc-topbar">
    <!-- Brand -->
    <a class="agc-brand" routerLink="/">
      <span class="agc-brand-badge" aria-hidden="true">ðŸŒ¿</span>
      <span>AgriConnect</span>
    </a>

    <!-- Navigation -->
    <nav class="agc-nav" aria-label="Primary">
      <a class="agc-link agc-link--active" routerLink="/">Home</a>

      <!-- Show only for admins -->
      <a
        class="agc-link"
        *ngIf="authservice.isloggedin() && authservice.isAdmin()"
        routerLink="/admin">
        Admin Dashboard
      </a>
    </nav>

    <!-- Search -->
    <div class="agc-search" role="search" aria-label="Site">
      <label class="sr-only" for="agc-site-search">Search</label>
      <input
        id="agc-site-search"
        type="search"
        placeholder="Search products, suppliers, services..."
        [(ngModel)]="searchQuery"
        (keyup.enter)="onSearch()"
      />
      <button type="button" (click)="onSearch()" aria-label="Search">
        Search
      </button>
    </div>

    <!-- User Actions -->
    <div class="agc-user-actions" *ngIf="authservice.isloggedin(); else loginBlock">
      <a class="agc-link" routerLink="/profile">{{ authservice.getname() }}</a>
      <button class="agc-logout" (click)="onLogout()">Logout</button>
    </div>

    <!-- Login fallback -->
    <ng-template #loginBlock>
      <div class="agc-user-actions">
        <a class="agc-link" routerLink="/login">Login</a>
        <a class="agc-link" routerLink="/register">Register</a>
      </div>
    </ng-template>
  </div>

  <!-- Categories (only visible if logged in) -->
  <div class="agc-categories" *ngIf="authservice.isloggedin()">
    <nav class="agc-categories-inner" aria-label="Categories">
      <a
        *ngFor="let category of categorylist"
        class="agc-chip"
        role="button"
        tabindex="0"
        [class.agc-chip--active]="activeCategory === category._id"
        (click)="onCategorySelect(category._id)"
      >
        {{ category.name }}
      </a>
    </nav>
  </div>
</header>
